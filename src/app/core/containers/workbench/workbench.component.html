<div id="sidebar-wrapper" class="p-2 bg-dark" style="overflow: hidden;">
  <!-- <div *ngIf="(loading$ | async)" class="alert alert-warning">
    Loading...
  </div> -->
  <div class="box">
    <div class="box-row header">
      <div class="card p-2 mb-2">
          <div class="button-row">
              <button mat-icon-button aria-label="Clear Library" (click)="removeAllFiles()"><mat-icon>delete_sweep</mat-icon></button>
              <button mat-icon-button aria-label="Save All"><mat-icon>save</mat-icon></button>
              <button mat-icon-button  aria-label="Toggle Search" (click)="toggleSearch()"><mat-icon>search</mat-icon></button>
              <button mat-icon-button  aria-label="Refresh" (click)="refresh()"><mat-icon>refresh</mat-icon></button>
          </div>
          <div *ngIf="showSearch">
              <mat-form-field class="">
                <input matInput placeholder="Filter library files" [(ngModel)]="fileFilterString" type="text">
              </mat-form-field>
              <div *ngIf="fileFilterString != ''" class="alert alert-warning mb-0" role="alert">
                  {{( (files$ | async) | filteredFiles: fileFilterString)?.length}} of {{(files$ | async)?.length}} files matched
              </div>
          </div>
      </div>
    </div>
    <div class="box-row content">
      <div style="background: #FFFFFF; overflow: auto; width: 100%;">
        <ul class="list-unstyled" style="white-space: nowrap; display: inline-block; margin: 0px; min-width: 100%;">
          <app-data-file-list-item *ngFor="let file of (files$ | async)"
            [file]="file"
            [selected]="(selectedFile$ | async) == file"
            (select)="onFileSelect(file)">
          </app-data-file-list-item>
        </ul>
      </div>
    </div>
  </div>
</div>

<!-- Page Content -->
<div id="content-wrapper">
  <div id="workspace-subnav-wrapper">
    <navbar class="subnav" [routes]=routes></navbar>
  </div>
  
  <div id="workspace-content-wrapper">
    <router-outlet></router-outlet>
  </div>
  <!-- /#page-content-wrapper -->
</div>

