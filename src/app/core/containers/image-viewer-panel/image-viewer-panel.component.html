<div id="image-viewer-wrapper">
  <app-image-viewer-title-bar [imageFile]="(files$ | async)[fileId]"></app-image-viewer-title-bar>

  <div app-pan-zoom-canvas #panZoomCanvas="panZoomCanvas" class="viewer" [imageFile]="(files$ | async)[fileId]" [normalization]="(imageFileStates$ | async)[fileId]?.normalization"
    [transformation]="(imageFileStates$ | async)[fileId]?.transformation" (onImageMove)="handleImageMove($event)" (onImageClick)="handleImageClick($event)">
    <app-image-viewer-marker-overlay *ngIf="(files$ | async)[fileId]" [imageFile]="(files$ | async)[fileId]" [svgWidth]="panZoomCanvas?.canvasWidth" [svgHeight]="panZoomCanvas?.canvasHeight"
      [transform]="(imageFileStates$ | async)[fileId]?.transformation?.imageToViewportTransform" [markers]="markers" (onMarkerClick)="handleMarkerClick($event)" style="pointer-events: none;">
    </app-image-viewer-marker-overlay>
    <app-image-viewer-status-bar [imageFile]="(files$ | async)[fileId]" [imageMouseX]="imageMouseX" [imageMouseY]="imageMouseY"></app-image-viewer-status-bar>
  </div>

</div>



<!-- 
<app-pan-zoom-viewer [viewerId]="viewerId" [imageFile]="(fileEntities$ | async)[fileId]" [normalization]="(imageFileStates$ | async)[fileId]?.normalization"
  [transformation]="(imageFileStates$ | async)[fileId]?.transformation" [showInfoBar]="showInfoBar" [markers]="markers" (onImageClick)="onImageClick($event)"
  (onImageMove)="onImageMove($event)" (mousedown)="setActiveViewer(viewer)">
</app-pan-zoom-viewer> -->